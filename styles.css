:root{
  --bg0:#061018;
  --bg1:#071826;
  --card: rgba(255,255,255,.06);
  --card2: rgba(255,255,255,.085);
  --stroke: rgba(255,255,255,.09);
  --text: #edf4ff;
  --muted: rgba(237,244,255,.65);

  --green:#2ee56a;
  --green2:#1fb957;
  --blue:#46b1ff;
  --shadow: 0 18px 50px rgba(0,0,0,.45);
  --r: 22px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  color: var(--text);
  background:
    radial-gradient(1000px 600px at 20% -10%, rgba(46,229,106,.18), transparent 60%),
    radial-gradient(900px 600px at 90% 10%, rgba(70,177,255,.20), transparent 55%),
    radial-gradient(800px 700px at 40% 120%, rgba(176,86,255,.16), transparent 55%),
    linear-gradient(180deg, var(--bg1), var(--bg0));
  overflow-x:hidden;
}

#app{
  max-width: 480px;
  margin: 0 auto;
  padding: 14px 14px 38px;
}

.sectionGap{ height:12px; }

.card{
  background: var(--card);
  border: 1px solid var(--stroke);
  border-radius: var(--r);
  box-shadow: var(--shadow);
}

.header{
  padding: 14px;
}

.heroCard{
  padding: 16px;
  display:flex;
  gap:12px;
  align-items:center;
}

.avatar{
  width:48px;height:48px;border-radius:16px;
  background: linear-gradient(180deg, rgba(46,229,106,.95), rgba(31,185,87,.55));
  box-shadow: 0 10px 30px rgba(46,229,106,.15);
}

.hTitle{
  font-weight:800;
  font-size:18px;
  letter-spacing:.2px;
}
.hSub{
  margin-top:2px;
  font-size:13px;
  color: var(--muted);
}

.stats{
  margin-left:auto;
  display:flex;
  gap:10px;
}
.pill{
  min-width:86px;
  padding:10px 12px;
  border-radius: 18px;
  background: rgba(0,0,0,.18);
  border: 1px solid var(--stroke);
  display:flex;
  justify-content:space-between;
  gap:10px;
  align-items:center;
  font-weight:800;
}
.pill span{ color:var(--muted); font-weight:700; }

.tabs{
  margin-top:10px;
  padding:10px;
  display:flex;
  gap:8px;
  overflow:auto;
  -webkit-overflow-scrolling: touch;
}
.tab{
  flex:0 0 auto;
  padding:10px 14px;
  border-radius: 18px;
  border: 1px solid var(--stroke);
  background: rgba(0,0,0,.12);
  color: var(--muted);
  font-weight:800;
  display:flex;
  align-items:center;
  gap:8px;
  user-select:none;
}
.tab.active{
  background: rgba(46,229,106,.18);
  color: var(--text);
  border-color: rgba(46,229,106,.30);
}

.heroBig{
  margin-top:12px;
  padding:18px;
}
.bigTitle{
  font-size:44px;
  line-height: 0.95;
  font-weight:900;
  letter-spacing:-1px;
}
.bigText{
  margin-top:10px;
  font-size:16px;
  color: var(--muted);
  line-height:1.35;
}

.btnRow{
  margin-top:14px;
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}
.btn{
  border:1px solid var(--stroke);
  background: rgba(0,0,0,.18);
  color: var(--text);
  padding:14px 18px;
  border-radius: 18px;
  font-weight:900;
  cursor:pointer;
}
.btnPrimary{
  background: linear-gradient(180deg, var(--green), var(--green2));
  color:#08130d;
  border-color: rgba(46,229,106,.45);
  box-shadow: 0 14px 36px rgba(46,229,106,.20);
}
.btn:active{ transform: translateY(1px); }

.grid2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}
@media (max-width: 390px){
  .grid2{ grid-template-columns: 1fr; }
  .bigTitle{ font-size:38px; }
}

.dayCard{
  padding:16px;
}
.dayTop{
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  gap:10px;
}
.dayTitle{
  font-weight:900;
  font-size:20px;
}
.badge{
  color: var(--muted);
  font-weight:900;
  padding:8px 12px;
  border-radius: 18px;
  background: rgba(0,0,0,.15);
  border: 1px solid var(--stroke);
}

.bar{
  margin-top:12px;
  height:12px;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  border: 1px solid var(--stroke);
  overflow:hidden;
}
.barFill{
  height:100%;
  width:0%;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--green), var(--blue));
}

.kpi{
  margin-top:12px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}
.kpiBox{
  padding:14px;
  border-radius: 18px;
  background: rgba(0,0,0,.14);
  border: 1px solid var(--stroke);
}
.kpiN{
  font-size:36px;
  font-weight:1000;
}
.kpiL{
  margin-top:6px;
  color: var(--muted);
  font-weight:800;
}

.subLine{
  margin-top:10px;
  color: var(--muted);
  font-weight:800;
}

.h2row{
  margin-top:14px;
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap:12px;
}
.h2{
  font-size:22px;
  font-weight:1000;
}
.h2sub{
  color: var(--muted);
  font-weight:800;
}

/* ===== Path (Дуо-узлы) ===== */
.pathWrap{
  margin-top:10px;
  padding:12px;
}
.unitCard{
  padding:14px;
  border-radius: var(--r);
  border: 1px solid var(--stroke);
  background: rgba(0,0,0,.10);
  margin-bottom:12px;
}
.unitHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:10px;
}
.unitTitle{
  font-weight:1000;
  font-size:18px;
}
.unitMeta{
  color: var(--muted);
  font-weight:900;
  font-size:13px;
}
.lockPill{
  padding:8px 12px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: rgba(0,0,0,.14);
  font-weight:900;
  color: var(--muted);
}

.track{
  position:relative;
  padding: 8px 8px 18px;
}

/* центральная линия */
.track::before{
  content:"";
  position:absolute;
  left: 50%;
  top: 12px;
  bottom: 10px;
  width: 6px;
  transform: translateX(-50%);
  border-radius: 999px;
  background: rgba(255,255,255,.06);
  border: 1px solid var(--stroke);
}

.nodeRow{
  position:relative;
  display:flex;
  align-items:center;
  margin: 12px 0;
  min-height: 82px;
}
.nodeRow.left{ justify-content:flex-start; }
.nodeRow.right{ justify-content:flex-end; }

.node{
  width: 78px;
  height: 78px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: rgba(0,0,0,.20);
  display:grid;
  place-items:center;
  box-shadow: 0 18px 40px rgba(0,0,0,.35);
  cursor:pointer;
  position:relative;
}
.node.done{
  background: rgba(46,229,106,.22);
  border-color: rgba(46,229,106,.35);
}
.node.next{
  outline: 4px solid rgba(70,177,255,.28);
  border-color: rgba(70,177,255,.45);
}
.node.locked{
  opacity:.35;
  cursor:not-allowed;
}

.node .icon{
  font-size:22px;
}
.nodeLabel{
  width: 220px;
  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid var(--stroke);
  background: rgba(0,0,0,.14);
  margin: 0 12px;
}
.nodeLabel .t{
  font-weight:1000;
  font-size:16px;
}
.nodeLabel .s{
  margin-top:4px;
  color: var(--muted);
  font-weight:900;
  font-size:13px;
}

.nodeRow.left .nodeLabel{ order:2; }
.nodeRow.left .node{ order:1; }
.nodeRow.right .nodeLabel{ order:1; text-align:right; }
.nodeRow.right .node{ order:2; }

/* ===== Other screens ===== */
.simpleCard{
  padding:16px;
}
.list{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-top:10px;
}
.item{
  padding:14px;
  border-radius:18px;
  border:1px solid var(--stroke);
  background: rgba(0,0,0,.14);
  display:flex;
  justify-content:space-between;
  gap:12px;
}
.item b{ font-weight:1000; }
.item span{ color: var(--muted); font-weight:900; }

/* ===== Modal ===== */
.modal{
  position:fixed; inset:0;
  background: rgba(0,0,0,.55);
  display:flex;
  align-items:flex-end;
  justify-content:center;
  padding: 18px 12px;
}
.modal.hidden{ display:none; }

.modalCard{
  width: min(520px, 100%);
  border-radius: 26px;
  border: 1px solid var(--stroke);
  background: rgba(10,18,28,.92);
  box-shadow: var(--shadow);
  overflow:hidden;
}
.modalTop{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 14px 16px;
  border-bottom: 1px solid var(--stroke);
}
.modalTitle{
  font-weight:1000;
  font-size:16px;
}
.iconBtn{
  width:38px;height:38px;
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: rgba(0,0,0,.14);
  color: var(--text);
  cursor:pointer;
}
.modalBody{ padding: 16px; }
.prompt{
  font-size: 18px;
  font-weight:1000;
  line-height:1.2;
}
.options{
  margin-top: 12px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.opt{
  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid var(--stroke);
  background: rgba(0,0,0,.16);
  cursor:pointer;
  font-weight:900;
}
.opt.active{
  border-color: rgba(70,177,255,.55);
  background: rgba(70,177,255,.12);
}
.opt.ok{
  border-color: rgba(46,229,106,.55);
  background: rgba(46,229,106,.12);
}
.opt.bad{
  border-color: rgba(255,90,90,.55);
  background: rgba(255,90,90,.12);
}

.hint{
  margin-top: 10px;
  color: var(--muted);
  font-weight:900;
  min-height: 18px;
}

.modalBottom{
  padding: 12px 16px 16px;
  border-top: 1px solid var(--stroke);
}

.toast{
  position: fixed;
  left: 50%;
  bottom: 22px;
  transform: translateX(-50%);
  background: rgba(0,0,0,.70);
  border: 1px solid var(--stroke);
  color: var(--text);
  padding: 10px 14px;
  border-radius: 999px;
  font-weight:900;
  opacity:0;
  pointer-events:none;
  transition: opacity .18s ease, transform .18s ease;
}
.toast.show{
  opacity:1;
  transform: translateX(-50%) translateY(-4px);
}
