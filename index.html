<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Spanish Trainer</title>

  <!-- –ß—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–æ –∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –∏ –≤ Telegram -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <link rel="stylesheet" href="./styles.fixed.css" />
</head>
<body>
  <div class="app">
    <!-- Top bar -->
    <header class="topbar">
      <button id="btnExit" class="iconBtn" aria-label="Exit">‚úï</button>

      <div class="barWrap" aria-label="Progress">
        <div class="bar">
          <div id="barFill" class="barFill" style="width: 0%"></div>
        </div>
      </div>

      <div class="topStats">
        <div class="statPill"><span class="statIcon">‚ö°</span><span id="energy">0</span></div>
        <div class="statPill"><span class="statIcon">üî•</span><span id="streak">0</span></div>
        <div class="statPill"><span class="statIcon">‚≠ê</span><span id="xpTotal">0</span></div>
      </div>
    </header>

    <!-- Screens -->
    <main class="screenHost">
      <!-- HOME -->
      <section id="screenHome" class="screen isActive">
        <div class="heroCard">
          <div class="heroLeft">
            <div class="logoCircle"></div>
            <div>
              <div class="heroTitle">Spanish Trainer</div>
              <div class="heroSub">–º–∏–Ω–∏-–¥—É–æ —Ä–µ–∂–∏–º üòÑ ¬∑ –±–µ–∑ –ª–∏–º–∏—Ç–æ–≤</div>
            </div>
          </div>

          <div class="heroRight">
            <div class="miniPill"><span>‚ö°</span><b id="homeEnergy">0</b></div>
            <div class="miniPill"><span>üî•</span><b id="homeStreak">0</b></div>
          </div>
        </div>

        <nav class="tabs">
          <button class="tab isActive" data-go="home">üè† –ì–ª–∞–≤–Ω–∞—è</button>
          <button class="tab" data-go="path">üß≠ –ü—É—Ç—å</button>
          <button class="tab" data-go="practice">üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞</button>
          <button class="tab" data-go="stats">üìä –°—Ç–∞—Ç—ã</button>
        </nav>

        <div class="bigCard">
          <h1>–£—á–∏—Å—å –±—ã—Å—Ç—Ä–æ,<br/>–ø—Ä–∏—è—Ç–Ω–æ –∏ –±–µ–∑ –¥—É—Ö–æ—Ç—ã</h1>
          <p>–ö–ª–∏–∫–∞–µ—à—å —É—Ä–æ–∫ ‚Üí –ø—Ä–æ—Ö–æ–¥–∏—à—å –∑–∞–¥–∞–Ω–∏—è ‚Üí –ø–æ–ª—É—á–∞–µ—à—å XP. –°–µ—Ä–¥–µ—á–µ–∫ –Ω–µ—Ç, –ª–∏–º–∏—Ç–æ–≤ –Ω–µ—Ç üòâ</p>

          <div class="btnRow">
            <button id="btnContinue" class="btnPrimary">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            <button id="btnSync" class="btnGhost">–°–∏–Ω–∫ –≤ –±–æ—Ç–∞</button>
            <button id="btnExport" class="btnGhost">–≠–∫—Å–ø–æ—Ä—Ç</button>
          </div>

          <button id="btnImport" class="btnGhost wide">–ò–º–ø–æ—Ä—Ç</button>
        </div>

        <div class="smallGrid">
          <div class="smallCard">
            <div class="smallTitle">–¶–µ–ª—å –¥–Ω—è</div>
            <div class="smallMeta"><span id="todayXp">0</span> / 50 XP</div>
          </div>
          <div class="smallCard">
            <div class="smallTitle">–¢–æ—á–Ω–æ—Å—Ç—å</div>
            <div class="smallMeta"><span id="acc">0</span>%</div>
          </div>
        </div>
      </section>

      <!-- PATH -->
      <section id="screenPath" class="screen">
        <div class="sectionHead">
          <div class="sectionTitle">–ü—É—Ç—å</div>
          <div class="sectionHint">–í—ã–±–∏—Ä–∞–π —É—Ä–æ–∫</div>
        </div>

        <div class="pathList" id="pathList"></div>
      </section>

      <!-- PRACTICE -->
      <section id="screenPractice" class="screen">
        <div class="taskCard" id="taskCard">
          <!-- RESULT SHEET (–∫–∞–∫ –≤ Duolingo) -->
<div id="resultSheet" class="resultSheet hidden">
  <div class="resultInner">
    <div class="resultLeft">
      <div id="resultTitle" class="resultTitle">–ü–æ—Ç—Ä—è—Å–∞—é—â–µ!</div>
      <div id="resultSub" class="resultSub">+10 XP</div>
    </div>

    <button id="btnNext" class="resultBtn">–î–ê–õ–ï–ï</button>

  </div>

  <!-- —Å—é–¥–∞ –±—É–¥–µ–º –∫–∏–¥–∞—Ç—å –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ -->
  <div id="confetti" class="confetti"></div>
</div>

          <div class="taskTop">
            <div class="taskLabel" id="taskLabel">–ù–û–í–û–ï –°–õ–û–í–û</div>
            <div class="taskTitle" id="taskTitle">–ü–µ—Ä–µ–≤–µ–¥–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</div>
          </div>

          <div class="taskBody">
            <div class="bubble">
              <button id="btnAudio" class="audioBtn" aria-label="Play">üîä</button>
              <div class="bubbleText" id="promptText">Francia y M√©xico.</div>
            </div>

            <div class="answerArea" id="answerArea"></div>

            <div class="chips" id="chips"></div>
          </div>

          <div class="taskBottom">
            <div id="feedback" class="feedback"></div>
            <button id="btnCheck" class="btnPrimary wide" disabled>–ü–†–û–í–ï–†–ò–¢–¨</button>
          </div>
        </div>
      </section>

      <!-- STATS -->
      <section id="screenStats" class="screen">
        <div class="sectionHead">
          <div class="sectionTitle">–°—Ç–∞—Ç—ã</div>
          <div class="sectionHint">–¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</div>
        </div>

        <div class="bigCard">
          <div class="statLine"><span>–í—Å–µ–≥–æ XP</span><b id="sXp">0</b></div>
          <div class="statLine"><span>Streak</span><b id="sStreak">0</b></div>
          <div class="statLine"><span>–û—Ç–≤–µ—Ç–æ–≤ —Å–µ–≥–æ–¥–Ω—è</span><b id="sAnswered">0</b></div>
          <div class="statLine"><span>–¢–æ—á–Ω–æ—Å—Ç—å —Å–µ–≥–æ–¥–Ω—è</span><b id="sAcc">0%</b></div>
          <div class="statLine"><span>–°–ª–æ–≤ –≤—ã—É—á–µ–Ω–æ</span><b id="sWords">0</b></div>

          <button id="btnReset" class="btnDanger wide">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
        </div>
      </section>
    </main>
  </div>

  <!-- MODAL -->
  <div id="modal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modalCard">
      <div class="modalHead">
        <div id="modalTitle" class="modalTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫</div>
        <button id="modalX" class="iconBtn">‚úï</button>
      </div>

      <div id="modalBody" class="modalBody">–¢–µ–∫—Å—Ç</div>

      <div class="modalActions">
        <button id="modalCancel" class="btnGhost">–û—Ç–º–µ–Ω–∞</button>
        <button id="modalOk" class="btnPrimary">–û–∫</button>
      </div>
    </div>
  </div>

  <script src="./app.fixed.js"></script>
</body>
</html>
