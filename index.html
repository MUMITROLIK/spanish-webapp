<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Spanish Trainer</title>

  <!-- Telegram WebApp -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- –í–∞–∂–Ω–æ: styles.css –¥–æ–ª–∂–µ–Ω –ª–µ–∂–∞—Ç—å —Ä—è–¥–æ–º —Å index.html -->
  <link rel="stylesheet" href="styles.css?v=3" />
</head>

<body>
  <div class="app">
    <!-- Top bar -->
    <header class="topbar">
      <button id="btnExit" class="iconBtn" aria-label="Exit" type="button">‚úï</button>

      <div class="barWrap" aria-label="Progress">
        <div class="bar">
          <div id="barFill" class="barFill" style="width: 0%"></div>
        </div>
      </div>

      <div class="topStats">
        <div class="statPill"><span class="statIcon">‚ö°</span><span id="energy">0</span></div>
        <div class="statPill"><span class="statIcon">üî•</span><span id="streak">0</span></div>
        <div class="statPill"><span class="statIcon">‚≠ê</span><span id="xpTotal">0</span></div>
      </div>
    </header>

    <!-- Tabs -->
    <nav class="tabs">
      <button class="tab isActive" data-go="home" type="button">üè† –ì–ª–∞–≤–Ω–∞—è</button>
      <button class="tab" data-go="path" type="button">üß≠ –ü—É—Ç—å</button>
      <button class="tab" data-go="practice" type="button">üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞</button>
      <button class="tab" data-go="stats" type="button">üìä –°—Ç–∞—Ç—ã</button>
    </nav>

    <!-- Screens -->
    <main class="screens">
      <!-- HOME -->
      <section id="screenHome" class="screen isActive">
        <div class="card hero">
          <div class="heroTitle">–£—á–∏—Å—å –±—ã—Å—Ç—Ä–æ,<br>–ø—Ä–∏—è—Ç–Ω–æ –∏ –±–µ–∑ –¥—É—Ö–æ—Ç—ã</div>
          <div class="heroSub">–ö–ª–∏–∫–∞–µ—à—å —É—Ä–æ–∫ ‚Üí –ø—Ä–æ—Ö–æ–¥–∏—à—å –∑–∞–¥–∞–Ω–∏—è ‚Üí –ø–æ–ª—É—á–∞–µ—à—å XP. –°–µ—Ä–¥–µ—á–µ–∫ –Ω–µ—Ç, –ª–∏–º–∏—Ç–æ–≤ –Ω–µ—Ç üòÅ</div>

          <div class="heroBtns">
            <button id="btnContinue" class="btnPrimary" type="button">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            <button id="btnSync" class="btnGhost" type="button">–°–∏–Ω–∫ –≤ –±–æ—Ç–∞</button>
            <button id="btnExport" class="btnGhost" type="button">–≠–∫—Å–ø–æ—Ä—Ç</button>
            <button id="btnImport" class="btnGhost" type="button">–ò–º–ø–æ—Ä—Ç</button>
          </div>
        </div>

        <div class="card miniStats">
          <div class="miniRow">
            <div class="miniLabel">–¶–µ–ª—å –¥–Ω—è</div>
            <div class="miniValue"><span id="todayXp">0</span> / 50 XP</div>
          </div>
          <div class="miniRow">
            <div class="miniLabel">–¢–æ—á–Ω–æ—Å—Ç—å</div>
            <div class="miniValue"><span id="acc">0</span>%</div>
          </div>
          <div class="miniRow">
            <div class="miniLabel">–ü—É—Ç—å</div>
            <div class="miniValue">–í—ã–±–∏—Ä–∞–π —É—Ä–æ–∫</div>
          </div>

          <div class="miniPills">
            <div class="pill"><span class="pillIcon">‚ö°</span> <span id="homeEnergy">0</span></div>
            <div class="pill"><span class="pillIcon">üî•</span> <span id="homeStreak">0</span></div>
          </div>
        </div>
      </section>

      <!-- PATH -->
      <section id="screenPath" class="screen">
        <div class="card">
          <div class="cardTitle">–ü—É—Ç—å</div>
          <div class="cardSub">–í—ã–±–µ—Ä–∏ —É—Ä–æ–∫ –∏ –Ω–∞—á–Ω–∏ –ø—Ä–∞–∫—Ç–∏–∫—É.</div>
          <div id="pathList" class="pathList"></div>
        </div>
      </section>

      <!-- PRACTICE -->
      <section id="screenPractice" class="screen">
        <div class="taskCard" id="taskCard">
          <!-- RESULT SHEET -->
          <div id="resultSheet" class="resultSheet hidden">
            <div class="resultInner">
              <div class="resultLeft">
                <div id="resultTitle" class="resultTitle">–ü–æ—Ç—Ä—è—Å–∞—é—â–µ!</div>
                <div id="resultSub" class="resultSub">+10 XP</div>
              </div>

              <!-- –í–ê–ñ–ù–û: —Ç–µ–ø–µ—Ä—å id = btnNext, —á—Ç–æ–±—ã JS –ª–æ–≤–∏–ª -->
              <button id="btnNext" class="resultBtn" type="button">–î–ê–õ–ï–ï</button>
            </div>

            <div id="confetti" class="confetti"></div>
          </div>

          <div class="taskTop">
            <div class="taskLabel" id="taskLabel">–ù–û–í–û–ï –°–õ–û–í–û</div>
            <div class="taskTitle" id="taskTitle">–ü–µ—Ä–µ–≤–µ–¥–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</div>
          </div>

          <div class="taskBody">
            <div class="bubble">
              <button id="btnAudio" class="audioBtn" aria-label="Play" type="button">üîä</button>
              <div class="bubbleText" id="promptText">Francia y M√©xico.</div>
            </div>

            <div class="answerArea" id="answerArea"></div>

            <div class="chips" id="chips"></div>

            <div class="feedback" id="feedback"></div>

            <button id="btnCheck" class="btnPrimary wFull" type="button" disabled>–ü–†–û–í–ï–†–ò–¢–¨</button>
          </div>
        </div>
      </section>

      <!-- STATS -->
      <section id="screenStats" class="screen">
        <div class="card">
          <div class="cardTitle">–°—Ç–∞—Ç—ã</div>
          <div class="statsGrid">
            <div class="statCard"><div class="statName">–í—Å–µ–≥–æ XP</div><div class="statVal" id="sXp">0</div></div>
            <div class="statCard"><div class="statName">Streak</div><div class="statVal" id="sStreak">0</div></div>
            <div class="statCard"><div class="statName">–û—Ç–≤–µ—Ç–æ–≤ —Å–µ–≥–æ–¥–Ω—è</div><div class="statVal" id="sAnswered">0</div></div>
            <div class="statCard"><div class="statName">–¢–æ—á–Ω–æ—Å—Ç—å —Å–µ–≥–æ–¥–Ω—è</div><div class="statVal" id="sAcc">0%</div></div>
            <div class="statCard"><div class="statName">–°–ª–æ–≤ –≤—ã—É—á–µ–Ω–æ</div><div class="statVal" id="sWords">0</div></div>
          </div>

          <button id="btnReset" class="btnDanger" type="button">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
        </div>
      </section>
    </main>
  </div>

  <!-- MODAL -->
  <div id="modal" class="modal hidden" aria-hidden="true">
    <div class="modalCard">
      <div class="modalHead">
        <div id="modalTitle" class="modalTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫</div>
        <button id="modalX" class="iconBtn" type="button">‚úï</button>
      </div>

      <div id="modalBody" class="modalBody">–¢–µ–∫—Å—Ç</div>

      <div class="modalActions">
        <button id="modalCancel" class="btnGhost" type="button">–û—Ç–º–µ–Ω–∞</button>
        <button id="modalOk" class="btnPrimary" type="button">–û–∫</button>
      </div>
    </div>
  </div>

  <script src="app.js?v=3"></script>
</body>
</html>
